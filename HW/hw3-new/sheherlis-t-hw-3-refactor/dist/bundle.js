(()=>{var e=document.querySelector(".container"),t=document.querySelector("#fish-list"),n=document.querySelector("#bugs-list"),r=document.querySelector("#villagers-list"),a=document.querySelector("#favorites-list"),c=document.querySelector("#clear"),o=document.querySelector("#instructions"),l=document.querySelectorAll(".result"),i=document.querySelectorAll(".front"),s=document.querySelectorAll(".back"),u=document.querySelectorAll(".card-img"),d=document.querySelectorAll(".name"),g=document.querySelectorAll(".main-button"),f="cks2693-",v=f+"critters",p=f+"villagers",y=[],m=[],h=[],S=localStorage.getItem(v),b=localStorage.getItem(p);S&&(m=JSON.parse(S)),b&&(h=JSON.parse(b));var k="ee03ae8c-8f89-495a-a9ed-d4e07fa9df9f",q=function(e){var t=new XMLHttpRequest;t.onload=L,t.onerror=A,t.open("GET",e),t.send()},L=function(e){var t=e.target,n=JSON.parse(t.responseText);y=Object.values(n),e.target.responseURL.includes("fish")||e.target.responseURL.includes("bugs")?(e.target.responseURL.includes("fish")?T():e.target.responseURL.includes("bugs")&&x(),M(y),J(y),u.forEach((function(e){return e.style.height="80%"}))):e.target.responseURL.includes("villagers")&&(N(),O(y),J(y),u.forEach((function(e){return e.style.height="70%",e.style.width="30%"})))},A=function(){console.log("An error occured")},H=function(t){var n="https://api.nookipedia.com/";console.log(t.target),e.innerHTML="","fish"===t.target.value||"bugs"===t.target.value?(n+="nh/"+t.target.value+"?api_key="+k,q(n)):"villagers"===t.target.value?(n+=t.target.value+"?api_key="+k,q(n)):"favorites"===t.target.value&&_(a.value)},M=function(t){null!=c&&c.remove(),o.innerHTML="Hover over cards to flip them or click to favorite!",t.forEach((function(t){e.insertAdjacentHTML("beforeend","<div class='result' data-type='critter'>\n                        <div class='result-card' data-type='critter'>\n                        <div class='front' data-type='critter'>\n                            <img class='card-img' data-type='critter' src=".concat(t.image_url," />\n                            <p class='name' data-type='critter'>").concat(t.name,"</p>\n                        </div>\n                        <div class='back' data-type='critter'>\n                            <p>").concat(t.name,"</p>\n                            <p>Months Available: ").concat(t.north.months,"</p>\n                            <p>Location: ").concat(t.location,"</p>\n                            <p>Rarity: ").concat(t.rarity,"</p>\n                            <p>Price: ").concat(t.sell_nook,"</p>\n                        </div>\n                        </div>\n                    </div>"))}))},O=function(t){null!=c&&c.remove(),o.innerHTML="Hover over cards to flip them or click to favorite!",t.forEach((function(t){e.insertAdjacentHTML("beforeend","<div class='result' data-type='villager'>\n                        <div class='result-card' data-type='villager'>\n                        <div class='front' data-type='villager'>\n                            <img class='card-img' data-type='villager' src=".concat(t.image_url," />\n                            <p class='name' data-type='villager'>").concat(t.name,"</p>\n                        </div>\n                        <div class='back' data-type='villager'>\n                            <p>").concat(t.name,"</p>\n                            <p>Species: ").concat(t.species,"</p>\n                            <p>Gender: ").concat(t.gender,"</p>\n                            <p>Personality: ").concat(t.personality,"</p>\n                            <p>Birthday: ").concat(t.birthday_month," ").concat(t.birthday_day,"</p>\n                        </div>\n                        </div>\n                    </div>"))}))},T=function(){return w(t.value)},x=function(){switch(n.value){case"flying":w("Flying");break;case"ground":w("ground");break;case"trees":w("trees");break;case"flowers":w("flowers");break;case"on":y=y.filter((function(e){return e.location.includes("On")||e.location.includes("on")}))}},N=function(){return R(r.value)},E=function(e){var t=y[parseInt(e.target.dataset.index)];"villager"===e.target.dataset.type?h.includes(t)?(h.splice(h.indexOf(t),1),localStorage.setItem(p,JSON.stringify(h))):(h.push(t),localStorage.setItem(p,JSON.stringify(h))):"critter"===e.target.dataset.type&&(m.includes(t)?(m.splice(m.indexOf(t),1),localStorage.setItem(v,JSON.stringify(m))):(m.push(t),localStorage.setItem(v,JSON.stringify(m))))},I=function(){l=document.querySelectorAll(".result"),i=document.querySelectorAll(".front"),s=document.querySelectorAll(".back"),u=document.querySelectorAll(".card-img"),d=document.querySelectorAll(".name")},J=function(e){I();for(var t=0;t<e.length;t++)l[t].dataset.index="".concat(t),i[t].dataset.index="".concat(t),s[t].dataset.index="".concat(t),u[t].dataset.index="".concat(t),d[t].dataset.index="".concat(t),l[t].onclick=E},w=function(e){y=y.filter((function(t){return t.location.includes(e)}))},R=function(e){y=y.filter((function(t){return t.species.includes(e)}))},_=function(t){"critters"===t?0===m.length?(o.innerHTML="Nothing currently favorited, click a button to load items!",e.innerHTML=""):(M(m),I(),u.forEach((function(e){return e.style.height="80%"})),e.insertAdjacentHTML("afterend","<button class='button is-warning has-text-black is-rounded' id='clear' value=".concat(t,">Clear</button>")),(c=document.querySelector("#clear")).onclick=j):"villagers"===t&&(0===h.length?(o.innerHTML="Nothing currently favorited, click a button to load items!",e.innerHTML=""):(O(h),I(),u.forEach((function(e){return e.style.height="70%",e.style.width="30%"})),e.insertAdjacentHTML("afterend","<button class='button is-warning has-text-black is-rounded'id='clear' value=".concat(t,">Clear</button>")),(c=document.querySelector("#clear")).onclick=j))},j=function(e){"critters"===e.target.value?(m=[],localStorage.setItem(v,JSON.stringify(m))):"villagers"===e.target.value&&(h=[],localStorage.setItem(p,JSON.stringify(h))),_(e.target.value),c.remove()};g.forEach((function(e){e.addEventListener("click",H)}))})();
//# sourceMappingURL=bundle.js.map